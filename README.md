## Requirements

No requirements.

## Providers

| Name | Version |
|------|---------|
| <a name="provider_azurerm"></a> [azurerm](#provider\_azurerm) | n/a |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [azurerm_cdn_frontdoor_custom_domain.custom_domain](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_custom_domain) | resource |
| [azurerm_cdn_frontdoor_custom_domain_association.domain_association](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_custom_domain_association) | resource |
| [azurerm_cdn_frontdoor_endpoint.front_door_endpoint](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_endpoint) | resource |
| [azurerm_cdn_frontdoor_firewall_policy.default_firewall_policy](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_firewall_policy) | resource |
| [azurerm_cdn_frontdoor_origin.front_door_origin](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_origin) | resource |
| [azurerm_cdn_frontdoor_origin_group.front_door_origin_group](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_origin_group) | resource |
| [azurerm_cdn_frontdoor_profile.front_door_profile](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_profile) | resource |
| [azurerm_cdn_frontdoor_route.front_door_route](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_route) | resource |
| [azurerm_cdn_frontdoor_rule.default_rules](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_rule) | resource |
| [azurerm_cdn_frontdoor_rule_set.front_door_default_ruleset](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_frontdoor_rule_set) | resource |
| [azurerm_dns_zone.dns_zones](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/dns_zone) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_associate_custom_domain"></a> [associate\_custom\_domain](#input\_associate\_custom\_domain) | Whether or not the custom domain (if create) should be associated to the front door | `bool` | `true` | no |
| <a name="input_cache"></a> [cache](#input\_cache) | The cache block in the custom route | `any` | `null` | no |
| <a name="input_create_front_door_custom_domain"></a> [create\_front\_door\_custom\_domain](#input\_create\_front\_door\_custom\_domain) | Whether a custom domain should be made or not | `bool` | `false` | no |
| <a name="input_create_front_door_firewall_rules"></a> [create\_front\_door\_firewall\_rules](#input\_create\_front\_door\_firewall\_rules) | Whether you want to create firewall rules or not | `bool` | `true` | no |
| <a name="input_create_front_door_rules"></a> [create\_front\_door\_rules](#input\_create\_front\_door\_rules) | Whether front door rules should be made and added to the default ruleset | `bool` | `false` | no |
| <a name="input_front_door_custom_domain_options"></a> [front\_door\_custom\_domain\_options](#input\_front\_door\_custom\_domain\_options) | The object which the DNS and custom domain resource conform to | <pre>list(object({<br>    resource_name = string<br>    name          = string<br>    domain_name   = string<br>    host_name     = string<br><br>    tls = object({<br>      certificate_type        = optional(string)<br>      minimum_tls_version     = optional(string, "TLS12")<br>      cdn_frontdoor_secret_id = optional(string)<br>    })<br><br>    soa_record = optional(object({<br>      email         = optional(string)<br>      host_name     = optional(string)<br>      serial_number = optional(string)<br>      expire_time   = optional(number)<br>      minimum_ttl   = optional(number)<br>      refresh_time  = optional(number)<br>      retry_time    = optional(number)<br>      ttl           = optional(number)<br>      tags          = optional(map(string))<br>    }))<br><br>    routing_rules = optional(list(object({<br>      name                           = optional(string)<br>      cdn_frontdoor_endpoint_id      = optional(string)<br>      cdn_frontdoor_origin_group_id  = optional(string)<br>      cdn_frontdoor_origin_ids       = optional(list(string))<br>      cdn_frontdoor_rule_set_ids     = optional(list(string))<br>      cdn_frontdoor_custom_domain_id = optional(string)<br>      cdn_frontdoor_route_ids        = optional(list(string))<br><br>      enabled                         = optional(bool, true)<br>      forwarding_protocol             = optional(string)<br>      https_redirect_enabled          = optional(string)<br>      patterns_to_match               = optional(list(string))<br>      supported_protocols             = optional(list(string))<br>      cdn_frontdoor_custom_domain_ids = optional(list(string))<br>      link_to_default_domain          = optional(bool, false)<br>      cache = optional(object({<br>        query_string_caching_behavior = optional(string)<br>        query_strings                 = optional(list(string))<br>        compression_enabled           = optional(bool)<br>        content_types_to_compress     = optional(list(string))<br>      }))<br>    })))<br>  }))</pre> | `null` | no |
| <a name="input_front_door_default_rule_name"></a> [front\_door\_default\_rule\_name](#input\_front\_door\_default\_rule\_name) | The name of the default rule | `string` | `null` | no |
| <a name="input_front_door_default_ruleset_name"></a> [front\_door\_default\_ruleset\_name](#input\_front\_door\_default\_ruleset\_name) | The name of the default ruleset | `string` | `null` | no |
| <a name="input_front_door_endpoint_name"></a> [front\_door\_endpoint\_name](#input\_front\_door\_endpoint\_name) | The name of the front door endpoint name | `string` | `null` | no |
| <a name="input_front_door_firewall_rules"></a> [front\_door\_firewall\_rules](#input\_front\_door\_firewall\_rules) | The object which front door firewall rules must conform to | <pre>list(object({<br>    name                              = string<br>    mode                              = string<br>    redirect_url                      = string<br>    custom_block_response_status_code = number<br>    custom_block_response_body        = string<br><br>    custom_rule = optional(object({<br>      name     = optional(string)<br>      action   = optional(string)<br>      enabled  = optional(bool, true)<br>      priority = optional(number)<br>      type     = optional(string)<br>      match_condition = optional(object({<br>        match_variable     = string<br>        match_values       = list(string)<br>        operator           = string<br>        selector           = optional(string)<br>        negation_condition = optional(string)<br>        transforms         = optional(list(string), [])<br>      }))<br>      rate_limit_duration_in_minutes = optional(number)<br>      rate_limit_threshold           = optional(number)<br>    }))<br><br>    managed_rule = optional(object({<br>      type    = optional(string)<br>      version = optional(string, "2.1")<br>      action  = optional(string)<br>      override = optional(object({<br>        rule_group_name = optional(string)<br>        exclusion = optional(object({<br>          match_variable = optional(string)<br>          operator       = optional(string)<br>          selector       = optional(string)<br>        }))<br>        rule = optional(object({<br>          rule_id = optional(string)<br>          action  = optional(string)<br>          enabled = optional(bool, false)<br>          exclusion = optional(object({<br>            match_variable = optional(string)<br>            operator       = optional(string)<br>            selector       = optional(string)<br>          }))<br>        }))<br>      }))<br>      exclusion = optional(object({<br>        match_variable = optional(string)<br>        operator       = optional(string)<br>        selector       = optional(string)<br>      }))<br>    }))<br>  }))</pre> | n/a | yes |
| <a name="input_front_door_name"></a> [front\_door\_name](#input\_front\_door\_name) | The name of the front door resource | `string` | n/a | yes |
| <a name="input_front_door_origin_group_name"></a> [front\_door\_origin\_group\_name](#input\_front\_door\_origin\_group\_name) | The name of the front door origin group | `string` | `null` | no |
| <a name="input_front_door_origin_group_restore_traffic_time_to_healed_or_new_endpoint_in_minutes"></a> [front\_door\_origin\_group\_restore\_traffic\_time\_to\_healed\_or\_new\_endpoint\_in\_minutes](#input\_front\_door\_origin\_group\_restore\_traffic\_time\_to\_healed\_or\_new\_endpoint\_in\_minutes) | ifies the amount of time which should elapse before shifting traffic to another endpoint when a healthy endpoint becomes unhealthy or a new endpoint is added. | `number` | `10` | no |
| <a name="input_front_door_origin_group_session_affinity_enabled"></a> [front\_door\_origin\_group\_session\_affinity\_enabled](#input\_front\_door\_origin\_group\_session\_affinity\_enabled) | Whether session affinity is enabled in the origin group, defaults to true | `bool` | `true` | no |
| <a name="input_front_door_origin_name"></a> [front\_door\_origin\_name](#input\_front\_door\_origin\_name) | The name of the front door origin resource (not the resource target | `string` | `null` | no |
| <a name="input_front_door_response_timeout_seconds"></a> [front\_door\_response\_timeout\_seconds](#input\_front\_door\_response\_timeout\_seconds) | The response timeout in seconds of the front door resource | `number` | `120` | no |
| <a name="input_front_door_route_name"></a> [front\_door\_route\_name](#input\_front\_door\_route\_name) | The resource name of the front door route | `string` | `null` | no |
| <a name="input_front_door_rules"></a> [front\_door\_rules](#input\_front\_door\_rules) | The object which front door routing rules must conform to | <pre>list(object({<br>    name               = string<br>    order              = number<br>    behaviour_on_match = string<br>    actions = optional(object({<br><br>      url_rewrite_action = optional(object({<br>        source_pattern          = optional(string)<br>        destination             = optional(string)<br>        preserve_unmatched_path = optional(bool)<br>      }))<br><br>      url_redirect_action = optional(object({<br>        redirect_type        = optional(string)<br>        destination_hostname = optional(string)<br>        redirect_protocol    = optional(string)<br>        destination_path     = optional(string)<br>        query_string         = optional(string)<br>        destination_fragment = optional(string)<br>      }))<br><br>      request_header_action = optional(object({<br>        header_action = optional(string)<br>        header_name   = optional(string)<br>        value         = optional(string)<br>      }))<br><br>      response_header_action = optional(object({<br>        header_action = optional(string)<br>        header_name   = optional(string)<br>        value         = optional(string)<br>      }))<br><br>      route_configuration_override_action = optional(object({<br>        cdn_frontdoor_origin_group_id = optional(string)<br>        forwarding_protocol           = optional(string)<br>        query_string_caching_behavior = optional(string)<br>        query_string_parameters       = optional(list(string))<br>        compression_enabled           = optional(bool)<br>        cache_behavior                = optional(string)<br>        cache_duration                = optional(string)<br>      }))<br>    }))<br><br>    conditions = optional(object({<br><br>      ssl_protocol_condition = optional(object({<br>        match_values     = optional(string, "TLSv1.2")<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>      }))<br><br>      host_name_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(string)<br>      }))<br><br>      server_port_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>      }))<br><br>      client_port_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>      }))<br><br>      socket_address_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>      }))<br><br>      remote_address_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>      }))<br><br>      request_method_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>      }))<br><br>      query_string_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(list(string))<br>      }))<br><br>      post_args_condition = optional(object({<br>        post_args_name   = optional(string, "POST")<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(list(string))<br>      }))<br><br>      request_uri_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(list(string))<br>      }))<br><br>      request_header_condition = optional(object({<br>        header_name      = optional(string)<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(list(string))<br>      }))<br><br>      request_body_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(list(string))<br>      }))<br><br>      request_scheme_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>      }))<br><br>      url_path_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(list(string))<br>      }))<br><br>      url_file_extension_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(list(string))<br>      }))<br><br>      url_filename_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(list(string))<br>      }))<br><br>      http_version_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>      }))<br><br>      cookies_condition = optional(object({<br>        cookie_name      = optional(string)<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>        transforms       = optional(list(string))<br>      }))<br><br>      is_device_condition = optional(object({<br>        operator         = optional(string)<br>        negate_condition = optional(bool)<br>        match_values     = optional(list(string))<br>      }))<br><br>    }))<br>  }))</pre> | n/a | yes |
| <a name="input_front_door_sku_name"></a> [front\_door\_sku\_name](#input\_front\_door\_sku\_name) | The name of the front door sku | `string` | `"Standard_AzureFrontDoor"` | no |
| <a name="input_front_door_target_app_certificate_name_check"></a> [front\_door\_target\_app\_certificate\_name\_check](#input\_front\_door\_target\_app\_certificate\_name\_check) | Whether cert validation should happen on the app | `bool` | `true` | no |
| <a name="input_front_door_target_app_hostname"></a> [front\_door\_target\_app\_hostname](#input\_front\_door\_target\_app\_hostname) | The host name of the application to sit behind the front door | `string` | n/a | yes |
| <a name="input_front_door_target_app_http_port"></a> [front\_door\_target\_app\_http\_port](#input\_front\_door\_target\_app\_http\_port) | The default http port for the target app | `number` | `80` | no |
| <a name="input_front_door_target_app_https_port"></a> [front\_door\_target\_app\_https\_port](#input\_front\_door\_target\_app\_https\_port) | The default https port for the target app | `number` | `443` | no |
| <a name="input_front_door_target_app_priority"></a> [front\_door\_target\_app\_priority](#input\_front\_door\_target\_app\_priority) | The priority for the target app | `number` | `1` | no |
| <a name="input_front_door_target_app_weight"></a> [front\_door\_target\_app\_weight](#input\_front\_door\_target\_app\_weight) | The weight for the target app | `number` | `500` | no |
| <a name="input_health_probe"></a> [health\_probe](#input\_health\_probe) | The health probe block | `any` | `null` | no |
| <a name="input_identity_ids"></a> [identity\_ids](#input\_identity\_ids) | Specifies a list of user managed identity ids to be assigned to the VM. | `list(string)` | `[]` | no |
| <a name="input_identity_type"></a> [identity\_type](#input\_identity\_type) | The Managed Service Identity Type of this Virtual Machine. | `string` | `""` | no |
| <a name="input_load_balancing"></a> [load\_balancing](#input\_load\_balancing) | The load balanacing block of front door origin group | `any` | `null` | no |
| <a name="input_location"></a> [location](#input\_location) | The location for this resource to be put in | `string` | n/a | yes |
| <a name="input_private_link"></a> [private\_link](#input\_private\_link) | The private link block of the origin | `any` | `null` | no |
| <a name="input_rg_name"></a> [rg\_name](#input\_rg\_name) | The name of the resource group, this module does not create a resource group, it is expecting the value of a resource group already exists | `string` | n/a | yes |
| <a name="input_tags"></a> [tags](#input\_tags) | A map of the tags to use on the resources that are deployed with this module. | `map(string)` | <pre>{<br>  "source": "terraform"<br>}</pre> | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_front_door_default_ruleset_id"></a> [front\_door\_default\_ruleset\_id](#output\_front\_door\_default\_ruleset\_id) | The id of the default ruleset |
| <a name="output_front_door_default_ruleset_name"></a> [front\_door\_default\_ruleset\_name](#output\_front\_door\_default\_ruleset\_name) | The name of the default ruleset |
| <a name="output_front_door_endpoint_hostname"></a> [front\_door\_endpoint\_hostname](#output\_front\_door\_endpoint\_hostname) | The hostname of the frontdoor endpoint |
| <a name="output_front_door_endpoint_id"></a> [front\_door\_endpoint\_id](#output\_front\_door\_endpoint\_id) | The id of the frontdoor endpoint |
| <a name="output_front_door_id"></a> [front\_door\_id](#output\_front\_door\_id) | The ID of the Azure Front Door resource |
| <a name="output_front_door_origin_group_id"></a> [front\_door\_origin\_group\_id](#output\_front\_door\_origin\_group\_id) | The id of the origin group |
| <a name="output_front_door_origin_group_name"></a> [front\_door\_origin\_group\_name](#output\_front\_door\_origin\_group\_name) | The name of the origin group |
| <a name="output_front_door_origin_id"></a> [front\_door\_origin\_id](#output\_front\_door\_origin\_id) | The id of the front door origin |
| <a name="output_front_door_origin_name"></a> [front\_door\_origin\_name](#output\_front\_door\_origin\_name) | The name of the front door origin |
| <a name="output_front_door_origin_private_link"></a> [front\_door\_origin\_private\_link](#output\_front\_door\_origin\_private\_link) | The private link block of the front door origin if used |
| <a name="output_front_door_resource_guid"></a> [front\_door\_resource\_guid](#output\_front\_door\_resource\_guid) | The resource guid of the Azure Front Door resource |
| <a name="output_front_door_resource_rg_name"></a> [front\_door\_resource\_rg\_name](#output\_front\_door\_resource\_rg\_name) | The resource\_group name of the Azure Front Door resource |
